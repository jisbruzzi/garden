<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Cómo uso docker con mi disco externo</title>
    <meta name="description" content="Blog de José Ignacio Sbruzzi.">
    <link rel="stylesheet" href="/garden/css/index.css">
    <link rel="stylesheet" href="/garden/css/prism-base16-monokai.dark.css">
    <link rel="alternate" href="/garden/feed/feed.xml" type="application/atom+xml" title="Cuaderno con ideas de José Ignacio Sbruzzi">
    <link rel="alternate" href="/garden/feed/feed.json" type="application/json" title="Cuaderno con ideas de José Ignacio Sbruzzi">
  </head>
  <body>
    <header>
      <h1 class="home"><a href="/garden/">Cuaderno con ideas de José Ignacio Sbruzzi</a></h1>
    </header>

    <main class="tmpl-post">
      <h1>Cómo uso docker con mi disco externo</h1>

<time datetime="2021-02-25">25 Feb 2021</time><a href="/garden/tags/nerd/" class="post-tag">nerd</a>

<p>Como docker me llenaba el disco de mi computadora, decidí pasarlo a un disco sólido externo.</p>
<ul>
<li>Disco sólido externo de 128Gb formateado ext4</li>
<li>Configuración de docker daemon:</li>
</ul>
<pre class="language-bash"><code class="language-bash"><span class="token builtin class-name">echo</span> <span class="token string">'{<br>    "data-root":"/media/&lt;username>/&lt;disco>/docker-root"<br>}'</span> <span class="token operator">></span> /etc/docker/daemon.json</code></pre>
<ul>
<li>Hacer que docker no inicie al prender la computadora. Este paso es importante porque docker puede crear la carpeta <code>/media/&lt;username&gt;/&lt;disco&gt;/docker-root</code> antes de que se monte el disco.</li>
</ul>
<pre><code>systemctl disable docker.socket
systemctl disable docker.service
</code></pre>
<ul>
<li>instalar udiskie</li>
<li>hacer que udiskie se ejecute al iniciar X:</li>
</ul>
<pre class="language-bash"><code class="language-bash"><span class="token builtin class-name">echo</span> <span class="token string">'( sleep 1 &amp;&amp; udiskie --smart-tray --menu nested ) &amp;'</span> <span class="token operator">>></span> .xprofile</code></pre>
<p>Ahora, al empezar a trabajar hay que correr <code>sudo service docker start</code> antes de ejecutar cualquier comando de docker o docker compose.</p>

<hr>
<ul><li>Next: <a href="/garden/raspotify-rpi.html">Cómo usar una raspberry pi como receptor de spotify</a></li><li>Previous: <a href="/garden/aprender-a-programar.html">Aprender a programar</a></li>
</ul>

    </main>

    <footer></footer>

    <!-- Current page: /garden/docker-disco-externo.html -->
  </body>
</html>
